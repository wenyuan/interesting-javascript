# JavaScript深入之数据类型

> JavaScript 中共有 5 种基本数据类型和 1 种复杂数据类型。

## 一、数据类型概述

### 1. 6 种数据类型

5 种基本数据类型：Undefined、Null、Boolean、Number 和 String。  
1 种复杂数据类型：Object。

### 2. typeof 操作符

`typeof` 用于检测给定变量的数据类型，对一个值使用 `typeof` 操作符可能返回下列某个字符串：  
* `"undefined"` —— 如果这个值未定义；
* `"boolean"` —— 如果这个值是布尔值；
* `"string"` —— 如果这个值是字符串；
* `"number"` —— 如果这个值是数值；
* `"object"` —— 如果这个值是对象或 null；
* `"function"` —— 如果这个值是函数。

`typeof` 是一个操作符而不是函数，后面可加括号也可省略。

## 二、数据类型详解

### 1. Undefined 类型

Undefined 类型只有一个值，即特殊的 `undefined`。  
在使用 `var` 声明变量但未对其加以初始化时，这个变量的值就是 `undefined`；  

对未初始化和未声明的变量执行 `typeof` 操作符都会返回 `undefined` 值。  

显示地初始化变量是明智的选择，这样当 `typeof` 操作符返回 `"undefined"` 值时，我们就知道被检测地变量还没有被声明，而不是尚未初始化。（—— 出自红宝书）

### 2. Null 类型

Null 类型也只有一个值，即特殊的 `null`。  
从逻辑角度来看，`null` 值表示一个空对象指针，所以使用 `typeof` 操作符检测 `null` 值时会返回 `"object"`。  

如果定义的变量准备在将来用于保存对象，那么最好将该变量初始化未 `null` 而不是其他值。这样一来，只要直接检查相应的变量是否等于 `null` 值就可以知道它是否已经保存了一个对象的引用。（—— 出自红宝书）  

实际上，`undefined` 值是派生自 `null` 值得，因此 `null == undefined` 会返回 `true`，但 `null === undefined` 则返回 `false` 了。

### 3. Boolean 类型

Boolean 类型只有两个字面值：`true` 和 `false`。

### 4. Number 类型

Number 类型使用 IEEE754 格式来表示整数和浮点数值。  

**浮点数值**  
因为保存浮点数值需要得内存空间是保存整数值的两倍，所以凡是可以「整数化」的浮点数都会被转换为整数值，例如：`1.` 和 `1.0` 都会被解析为 `1`。

对于那些极大或极小的数值，可以用 e 表示法（即科学计数法）表示的浮点数值表示。
用 e 表示法表示的数值等于 e 前面的数值乘以 10 的指数次幂。

**数值范围**  
JavaScript 能够表示的最小数值为 `Number.MIN_VALUE`，在大多数浏览器中这个值是 `5e-324`；  
能够表示的最大数值为 `Number.MAX_VALUE`，在大多数浏览器中这个值是 `1.7976931348623157e+308`。  
超出范围的正数会被转换成 `Infinity`（正无穷），超出范围的负数会被转换成 `-Infinity`（负无穷）。  
可以使用 `isFinite()` 函数判断括号里的参数是否位于最小与最大数值之间。  

**NaN**  
`NaN`，即非数值（Not a Number）是一个特殊的数值。它有两个特点：一是任何涉及 `NaN` 的操作都会返回 `NaN`，二是 `NaN` 与任何值都不相等，包括 `NaN` 本身。  

可以通过 `isNaN()` 函数来确认括号里的参数是否「不是数值」，需要注意的是，`isNaN()` 在接收到一个参数后，会尝试将这个值转换为数值，某些不是数值的值会直接转换为数值，例如字符串 `"10"` 或 Boolean 值。

**数值转换**  
有 3 个函数可以把非数值转换为数值：`Number()`、`parseInt()` 和 `parseFloat()`。  

由于 `Number()` 函数在转换字符串时比较复杂而且不够合理，因此更常用过的是另外两个函数。（—— 出自红宝书）  

`parseInt()` 在转换时可以拥有第二个参数：转换时使用的基数（即多少进制），建议无论在什么情况下都明确指定基数。（—— 出自红宝书）  

`parseFloat()` 只解析十进制值，因此它没有用第二个参数指定基数的用法。另外如果字符串没有小数点，或者小数点后都是零，`parseFloat()` 会返回整数。  

转换规则：都是会忽略字符串前面的空格，直至找到第一个非空格字符。如果第一个字符不是数字字符或负号，就会返回 `NaN`，直到解析完所有后续字符或者遇到了一个非数字字符。  
区别是 `parseInt()` 转换过程中，小数点不是有效的数字字符；而 `parseFloat()` 转换过程中，第一个小数点是有效的，后面的小数点是无效的，从第二个小数点开始的后面所有字符会被忽略。  

### 5. String 类型

String 类型用于表示由零或多个 16 位 Unicode 字符组成的字符序列，即字符串。

**转换字符串**  
要把一个值转换为一个字符串有两种方式：  
第一种，几乎每个值都有的 `toString()` 方法（除了 `null` 和 `undefined`）。其中数值型字符串在调用该方法时，可以传递一个参数——输出数值的基数（默认是十进制）。  

第二种，`String()` 函数，它在转换过程中，如果值有 `toString()` 方法，则调用该方法（没有参数）；如果值是 `null`，则返回 `"null"`；如果值是 `undefined`，则返回 `"undefined"`。

### 6. Object 类型

JavaScript 中的对象其实就是一组数据和功能的集合。对象可以通过执行 `new` 操作符后跟要创建的对象类型的名称来创建。

TODO... Object 与 其他对象的关系。
